<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weather App</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      background-color: #1e1e1e;
      color: #eee;
      margin: 0;
      padding: 0;
    }
    
    header {
      display: flex;
    }
    
    header input[type="search"] {
      flex-grow: 1;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      background-color: #3a3a3a;
      color: #ccc;
      font-style: italic;
      outline: none;
    }
    
    header button{
      background: none;
      border: none;
      color: #eee;
      font-weight: bold;
      font-size: 1rem;
      margin-left: 10px;
      cursor: pointer;
    }
    
    main,
    header,section{
      max-width: 400px;
      margin: 20px auto;
      padding: 10px;
      background-color: #2c2c2c;
      border-radius: 8px;
      text-align: center;
    }
    
    .location {
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
    
    .temperature {
      font-size: 1.5rem;
      margin-bottom: 4px;
    }
    
    .feels-like {
      font-size: 1rem;
      margin-bottom: 20px;
    }
    
    .weather-info {
      display: flex;
      justify-content: space-between;
      background-color: #3a3a3a;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    
    .weather-info>div {
      flex: 1;
      padding: 15px;
      color: #ccc;
      font-size: 0.9rem;
    }
    
    .weather-info .icon {
      background-color: skyblue;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .weather-info .icon img {
      max-width: 60px;
      max-height: 60px;
    }
    
    .date-time {
      background-color: #4a4a4a;
      padding: 10px;
      border-radius: 8px;
      font-size: 1rem;
      margin-bottom: 20px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      font-size: 0.9rem;
    }
    
    .stats-item{
      background-color: #32295C;
      color: #9AD6EA;
      padding: 15px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .stats-item img,section img{
      width: 30px;
      height: 30px;
      
    }
    
    .stats-item .label {
      flex-grow: 1;
      font-style: italic;
      color: #9AD6EA;
    }
    
    .stats-item .value {
      font-weight: bold;
      color: #9AD6EA;
    }
    
    footer,
    p {
      text-align: center;
      padding: 10px;
      font-size: 0.9rem;
      color: #888;
    }
    
    #humid {
      background: linear-gradient(#c8420d, #1393a7);
    }
    
    #sunS {
      background: linear-gradient(to right, #F4A460, #FF69B4, #800080);
    }
    
    #sunR {
      background: linear-gradient(to right, #FF512F, #F09819);
    }
    
    #temp {
      background: linear-gradient(to right, lightpink, blue);
    }
    
    #winD {
      background: linear-gradient(to right, lightcoral, coral);
    }
    #myDIV{
      display: none;
    }
  </style>
</head>

<body>
  <header>
    <input type="search" id="search-input" placeholder="Search" aria-label="Search city" />
    <button type="button" id="search-button" aria-label="Search button">üîç</button>
  </header>
</body>

<main>
  <div class="location" aria-live="polite">Manila --¬∞C</div>
  <div class="temperature">Feels like --¬∞</div>
  
  <div class="weather-info">
    <div class="icon">
      <img src="" alt="Weather icon" />
      <p>--</p>
    </div>
    <div>
      <div class="date-time" aria-live="polite">May 1 2025<br />7:31 A.M</div>
    </div>
  </div>
  
  <div class="stats-grid">
    <div class="stats-item" id="humid">
      <img src="waterdrop.png" alt="Humidity icon" />
      <div class="label">
        <div class="value" id="humidity-value">--</div>Humidity
      </div>
      
    </div>
    <div class="stats-item" id="sunS"><img src="down.png" alt="down.png">
      <div class="label">
        <div class="value" id="sunset-value">--</div>Sunset
      </div>
      
    </div>
    <div class="stats-item" id="winD">
      <img src="wind.png" alt="Wind icon" />
      <div class="label">
        <div class="value" id="wind-value">--</div>WindSpeed
      </div>
      
    </div>
    <div class="stats-item" id="sunR"><img src="up.png" alt="up.png">
      <div class="label">
        <div class="value" id="sunrise-value">--</div>Sunrise
      </div>
      
    </div>
    <div class="stats-item" id="temp">
      <img src="temperature.png" alt="Temperature icon" />
      <div class="label">
        <div class="value" id="temp-value">--</div>Temperature
      </div>
      
    </div>
    <div class="stats-item"><img src="profile.png" alt="profile.png">
      <div class="label">
        <div class="value" id="user-greeting">--</div>UserName
      </div>
      
    </div>
  </div>
</main>
<p><button onclick="aboutUs()">About Us</button></p>

<section id="myDIV">
  <h1>Developer</h1>
  <hr>
  <p>Kian Vincent F. Guro <br>Ferdie Mark Segue</p>
  <h1>About</h1>
  <p>This project is a web-based weather dashboard that allows users to search for weather information by city and displays comprehensive, real-time weather data in a user-friendly interface.</p>

</section>
<footer>
  <span>Weather App &copy; 2025</span>
</footer>

<script>
function aboutUs() {
  var x = document.getElementById("myDIV");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
  // Display username from localStorage
  const userGreeting = document.getElementById('user-greeting');
  const userData = localStorage.getItem('user');
  if (userData) {
    const user = JSON.parse(userData);
    userGreeting.textContent = user.username;
  } else {
    userGreeting.textContent = '';
  }
  
  
  // Weather API configuration
  const apiKey = '312abfd953c970ceaf81f671079f6e22';
  const searchInput = document.getElementById('search-input');
  const searchButton = document.getElementById('search-button');
  const locationElement = document.querySelector('.location');
  const temperatureElement = document.querySelector('.temperature');
  const weatherIcon = document.querySelector('.icon img');
  const dateTimeElement = document.querySelector('.date-time');
  const humidityValue = document.getElementById('humidity-value');
  const sunsetValue = document.getElementById('sunset-value');
  const windValue = document.getElementById('wind-value');
  const sunriseValue = document.getElementById('sunrise-value');
  const tempValue = document.getElementById('temp-value');
  
  // Function to format time from Unix timestamp
  function formatTime(timestamp) {
    const date = new Date(timestamp * 1000);
    const hours = date.getHours();
    const minutes = date.getMinutes();
    const ampm = hours >= 12 ? 'P.M' : 'A.M';
    const formattedHours = hours % 12 || 12;
    const formattedMinutes = minutes < 10 ? '0' + minutes : minutes;
    return `${formattedHours}:${formattedMinutes} ${ampm}`;
  }
  
  // Function to format date
  function formatDate() {
    const date = new Date();
    const options = { month: 'long', day: 'numeric', year: 'numeric' };
    return date.toLocaleDateString('en-US', options);
  }
  
  // Function to fetch weather data
  async function getWeather(city) {
    try {
      const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
      
      if (!response.ok) {
        throw new Error('City not found');
      }
      
      const data = await response.json();
      
      // Update UI with weather data
      locationElement.textContent = `${data.name} ${Math.round(data.main.temp)}¬∞C`;
      temperatureElement.textContent = `Feels like ${Math.round(data.main.feels_like)}¬∞`;
      
      
      // Update weather icon
      const iconCode = data.weather[0].icon;
      weatherIcon.src = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
      weatherIcon.alt = data.weather[0].description;
      document.querySelector('.weather-info p').innerText = data.weather[0].description;
      
      
      // Update date and time
      const currentDate = formatDate();
      const currentTime = new Date().toLocaleTimeString('en-US', {
        hour: 'numeric',
        minute: 'numeric',
        hour12: true
      });
      dateTimeElement.innerHTML = `${currentDate}<br />${currentTime}`;
      
      // Update stats
      humidityValue.textContent = `${data.main.humidity}%`;
      windValue.textContent = `${data.wind.speed} m/s`;
      tempValue.textContent = `${Math.round(data.main.temp)}¬∞C`;
      
      // Convert sunrise and sunset times
      sunriseValue.textContent = formatTime(data.sys.sunrise);
      sunsetValue.textContent = formatTime(data.sys.sunset);
      
    } catch (error) {
      locationElement.textContent = 'City not found';
      console.error('Error fetching weather data:', error);
    }
  }
  
  // Event listener for search button
  searchButton.addEventListener('click', () => {
    const city = searchInput.value.trim();
    if (city) {
      getWeather(city);
    }
  });
  
  // Event listener for Enter key
  searchInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      const city = searchInput.value.trim();
      if (city) {
        getWeather(city);
      }
    }
  });
  
  // Load default city on page load
  window.addEventListener('load', () => {
    getWeather('Romblon');
  });
</script>
</body>

</html>